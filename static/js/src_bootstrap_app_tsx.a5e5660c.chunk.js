(globalThis.webpackChunkany_arts=globalThis.webpackChunkany_arts||[]).push([["src_bootstrap_app_tsx"],{45597:(e,t,n)=>{"use strict";Object.defineProperty(t,"X$",{value:!0}),Object.defineProperty(t,"jY",{enumerable:!0,get:function(){return r.default}}),t.h0=void 0,Object.defineProperty(t,"ng",{enumerable:!0,get:function(){return i.default}});var s=a(n(70854)),r=a(n(69363)),i=a(n(83272));function a(e){return e&&e.__esModule?e:{default:e}}const o=[s.default];t.h0=o},86620:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Page:()=>re,__esModule:()=>ne.X$,logo:()=>ne.jY,panels:()=>ne.h0,readme:()=>ne.ng});var s=n(55754),r=n(73414),i=n(45055),a=n(94751),o=n(92950),l=n(69716),c=n(45263);const d=e=>{let{onMore:t=(()=>{}),loading:n=!1,disabled:s=!1}=e;return(0,c.jsx)(a.Button,{type:"text",onClick:t,loading:n,disabled:s,icon:(0,c.jsx)(l.Z,{name:"caret-down-outline"}),children:"More"})};const u={appId:"any_arts",url:"https://descartesnetwork.github.io/anyarts.so/index.js"},p={development:{...u},staging:{...u},production:{...u}},h={devnet:{node:r.rpc,metaplexAddress:"metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"},testnet:{node:r.rpc,metaplexAddress:"metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"},mainnet:{node:r.rpc,metaplexAddress:"metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"}},y={manifest:p[r.env],sol:h[r.net]},{manifest:{appId:g}}=y,m=()=>{const e=(0,i.useHistory)(),t=`/app/${g}`,n=(0,o.useCallback)((e=>t+e),[t]),s=(0,o.useCallback)((t=>e.push(n(t))),[e,n]),r=(0,o.useCallback)((()=>e.goBack()),[e]);return{root:t,extend:n,to:s,back:r}},x=e=>{let{symbol:t}=e;const{collections:{[t]:{name:n,description:r,image:i,website:d,twitter:u,discord:p}}}=(0,s.useSelector)((e=>e)),{to:h}=m(),y=(e,t)=>(e.stopPropagation(),window.open(t,"_blank")),g=(0,o.useCallback)((()=>h(`/${t}`)),[h,t]);return(0,c.jsx)(a.Card,{cover:(0,c.jsx)("img",{alt:t,src:i}),bodyStyle:{padding:16},bordered:!1,onClick:g,hoverable:!0,children:(0,c.jsxs)(a.Row,{gutter:[16,16],justify:"end",children:[(0,c.jsx)(a.Col,{span:24,children:(0,c.jsx)(a.Typography.Title,{level:5,ellipsis:!0,children:n})}),(0,c.jsx)(a.Col,{span:24,children:(0,c.jsx)(a.Typography.Paragraph,{ellipsis:{rows:2},children:r})}),(0,c.jsx)(a.Col,{children:(0,c.jsxs)(a.Space,{size:0,children:[(0,c.jsx)(a.Button,{type:"text",icon:(0,c.jsx)(l.Z,{name:"earth-outline"}),onClick:e=>y(e,d),disabled:!d}),(0,c.jsx)(a.Button,{type:"text",icon:(0,c.jsx)(l.Z,{name:"logo-twitter"}),onClick:e=>y(e,u),disabled:!u}),(0,c.jsx)(a.Button,{type:"text",icon:(0,c.jsx)(l.Z,{name:"logo-discord"}),onClick:e=>y(e,p),disabled:!p})]})})]})})};var b=n(19289),w=n(71256),f=n(50794),j=n(95418),k=n(21995),v=n.n(k);const C=class{constructor(){this._offset=void 0,this.key=e=>{if(!e)throw new Error("The key cannot be empty.");return e+"-offset"},this.set=(e,t)=>{const n=this.key(e);this._offset[n]=t},this.get=e=>{const t=this.key(e);return this._offset[t]||0},this._offset={}}};var S=n(97429).Buffer;class A extends C{constructor(e){var t;super(),t=this,this.network=void 0,this.endpoint=void 0,this.connection=void 0,this.initializeAccount=async(e,t)=>{const{token:{TOKEN_PROGRAM_ID:n,ASSOCIATED_PROGRAM_ID:s,associatedAddress:r}}=f.P6,i=new w.PublicKey(e),a=new w.PublicKey(t),o=await r({mint:a,owner:i}),l=new w.Transaction,c=new w.TransactionInstruction({keys:[{pubkey:i,isSigner:!0,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:w.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:w.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:s,data:S.from([])});l.add(c),l.feePayer=i;const{blockhash:d}=await this.connection.getLatestBlockhash("confirmed");return l.recentBlockhash=d,l},this.getURL=e=>{let{path:t,params:n,auth:s=!1,verbose:r=!1}=e;if(n)for(const l in n)n[l]=n[l].toString();const i=this.endpoint+t,a=n?new URLSearchParams(n).toString():"";r&&console.log(`${i}?${a}`);const o=encodeURIComponent(`${i}?${a}`);return A.CORS+o+`?auth=${s}`},this.getCollection=async e=>{if(!e)throw new Error("Invalid symbol");const t=this.getURL({path:`/collections/${e}`}),{data:n}=await v().get(t);if(!n)throw new Error("Invalid symbol");return n},this.getCollections=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;const s={offset:e,limit:n},r=t.getURL({path:"/collections",params:s}),{data:i}=await v().get(r);return i||[]},this.nextCollections=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;const n=t.get("collections"),s=await t.getCollections(n,e);return t.set("collections",n+s.length),s},this.getListingNFTs=async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;const r={offset:n,limit:s},i=t.getURL({path:`/collections/${e}/listings`,params:r}),{data:a}=await v().get(i);return a||[]},this.nextListingNFTs=async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;const s=t.get(e),r=await t.getListingNFTs(e,s,n);return t.set(e,s+r.length),r},this.getNFTMetadata=async e=>{if(!j.account.isAddress(e))throw new Error("Invalid mint address");const t=this.getURL({path:`/tokens/${e}`}),{data:n}=await v().get(t);if(!n)throw new Error("Invalid mint address");return n},this.buyNow=async e=>{let{buyerAddress:t,sellerAddress:n,auctionHouseAddress:s="",mintAddress:r,price:i,buyerReferralAddress:a="",sellerReferralAddress:o="",buyerExpiry:l=0,sellerExpiry:c=-1}=e;if(!j.account.isAddress(t))throw new Error("Invalid buyer address");if(!j.account.isAddress(n))throw new Error("Invalid seller address");if(!j.account.isAddress(r))throw new Error("Invalid mint address");const d={buyer:t,seller:n,auctionHouseAddress:s,tokenMint:r,tokenATA:(await f.P6.token.associatedAddress({mint:new w.PublicKey(r),owner:new w.PublicKey(n)})).toBase58(),price:i,buyerReferral:a,sellerReferral:o,buyerExpiry:l,sellerExpiry:c},u=this.getURL({path:"/instructions/buy_now",params:d,auth:!0,verbose:!0}),{data:p}=await v().get(u);return{setupTransaction:await this.initializeAccount(t,r),buyNowTransaction:w.Transaction.from(S.from(p.txSigned))}},this.network=e,this.endpoint=A.ENDPOINTS[this.network],this.connection=new w.Connection(A.RPCS[this.network])}}A.CORS="https://cors.sentre.io/magic-eden/",A.ENDPOINTS={devnet:"https://api-devnet.magiceden.dev/v2",testnet:"https://api-testnet.magiceden.dev/v2",mainnet:"https://api-mainnet.magiceden.dev/v2"},A.RPCS={devnet:"https://devnet.genesysgo.net",testnet:"https://api.testnet.solana.com",mainnet:"https://ssc-dao.genesysgo.net/"};const T="collections",R=new A(r.net),P=(0,b.createAsyncThunk)(`${T}/nextCollections`,(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;const t=await R.nextCollections(e),n={};for(const s of t)n[s.symbol]=s;return n})),E=(0,b.createAsyncThunk)(`${T}/getCollection`,(async e=>({[e]:await R.getCollection(e)}))),O=(0,b.createSlice)({name:T,initialState:{},reducers:{},extraReducers:e=>{e.addCase(P.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(E.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)}))}}).reducer,_=e=>{let{more:t=!0}=e;const[n,r]=(0,o.useState)(!1),{collections:i}=(0,s.useSelector)((e=>e)),l=(0,s.useDispatch)(),u=(0,o.useCallback)((async()=>{r(!0);try{await l(P())}catch(e){return window.notify({type:"warning",description:e.message})}finally{return r(!1)}}),[l]);return(0,o.useEffect)((()=>{Object.keys(i).length<12&&u()}),[i,u]),(0,c.jsxs)(a.Row,{gutter:[24,24],children:[Object.keys(i).map(((e,t)=>(0,c.jsx)(a.Col,{xs:12,sm:8,lg:6,xl:4,xxl:3,children:(0,c.jsx)(x,{symbol:e})},t))),t&&(0,c.jsx)(a.Col,{span:24,children:(0,c.jsx)(a.Row,{gutter:[24,24],justify:"center",children:(0,c.jsx)(a.Col,{children:(0,c.jsx)(d,{onMore:u,loading:n})})})})]})};var I=n(48561);const{sol:{node:M}}=y,B=new w.Connection(M),N={address:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",symbols:"USDC"},W=async e=>{let t=[];for(const n of e){const e=await B.sendRawTransaction(n.serialize(),{skipPreflight:!0,preflightCommitment:"confirmed"});await B.confirmTransaction(e),t.push(e)}return t},L=()=>{const[e,t]=(0,o.useState)(!1),{wallet:{address:n}}=(0,r.useWallet)(),s=(0,o.useCallback)((async()=>{try{t(!0);const e=.001,s=await(async e=>{let{amount:t,walletAddress:n,cluster:s="mainnet-beta"}=e;const r=1.01*t,{address:i,symbols:a}=N,{data:o}=await(await fetch(`https://price.jup.ag/v1/price?id=SOL&vsToken=${a}`)).json(),l=r*o.price*10**6,c=await I.KB.load({connection:B,cluster:s,user:new w.PublicKey(n)}),{routesInfos:[d]}=await c.computeRoutes({inputMint:new w.PublicKey(i),outputMint:new w.PublicKey("So11111111111111111111111111111111111111112"),inputAmount:l,slippage:1,forceFetch:!0});console.log("Input Amount",l/10**6),console.log("Minimum Output Amount",d.outAmountWithSlippage/w.LAMPORTS_PER_SOL),console.log(d);const{transactions:{setupTransaction:u,swapTransaction:p,cleanupTransaction:h}}=await c.exchange({routeInfo:d});return[u,p,h].filter((e=>e))})({amount:e,walletAddress:n}),r=await window.sentre.wallet.signAllTransactions(s),i=await W(r);return console.log(i)}catch(e){return window.notify({type:"error",description:e.message})}finally{return t(!1)}}),[n]);return(0,c.jsxs)(a.Row,{gutter:[24,24],children:[(0,c.jsx)(a.Col,{span:24,children:(0,c.jsx)(a.Button,{onClick:s,icon:(0,c.jsx)(l.Z,{name:"send-outline"}),loading:e,children:"Jup Ag"})}),(0,c.jsx)(a.Col,{span:24,children:(0,c.jsx)(_,{})})]})},U={moonrank:"https://moonrank.static/moonrank_icon.png",howrare:"https://howrare.com/img/logo.png"},$=e=>{let{name:t,rank:n}=e;return(0,c.jsx)(a.Tooltip,{title:t,children:(0,c.jsx)(a.Card,{bodyStyle:{padding:8,cursor:"pointer"},style:{minWidth:80,maxWidth:96},children:(0,c.jsxs)(a.Space,{children:[(0,c.jsx)(a.Avatar,{shape:"circle",size:"small",src:U[t]}),(0,c.jsx)(a.Space,{children:(0,c.jsx)(a.Typography.Text,{children:n})})]})})})},D="metadata",z=(0,b.createAsyncThunk)("metadata/getNFTMetadata",(async(e,t)=>{let{mintAddress:n,force:s=!1}=e,{getState:r}=t;const{metadata:{[n]:i}}=r();if(i&&!s)return{[n]:i};return{[n]:await R.getNFTMetadata(n)}})),F=(0,b.createSlice)({name:D,initialState:{},reducers:{},extraReducers:e=>{e.addCase(z.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)}))}}).reducer,K="autMW8SgBkVYeBgqYiTuJZnkvDZMVU2MHJh9Jh7CSQ2",q=e=>{let{symbol:t,mintAddress:n}=e;const[i,d]=(0,o.useState)(!1),{listing:{[t]:{[n]:u}},metadata:{[n]:p}}=(0,s.useSelector)((e=>e)),{wallet:{address:h}}=(0,r.useWallet)(),y=(0,s.useDispatch)(),{seller:g,price:m,tokenMint:x,auctionHouse:b,rarity:w,extra:{img:f}}=u,{name:k,image:v}=p||{},C=(0,o.useCallback)((async()=>{try{d(!0);const{wallet:e}=window.sentre,{setupTransaction:t,buyNowTransaction:n}=await R.buyNow({buyerAddress:h,sellerAddress:g,auctionHouseAddress:b,mintAddress:x,price:m,buyerReferralAddress:K,sellerReferralAddress:K,buyerExpiry:0,sellerExpiry:-1}),s=[t,n],i=await e.signAllTransactions(s),a=await W(i);return window.notify({type:"success",description:"Successfully buy the NFT. Click to view details.",onClick:()=>window.open(r.util.explorer(a[1]),"_blank")})}catch(e){return window.notify({type:"error",description:e.message})}finally{return d(!1)}}),[h,g,m,x,b]);return(0,o.useEffect)((()=>{j.account.isAddress(n)&&y(z({mintAddress:n}))}),[y,n]),(0,c.jsx)(a.Card,{cover:(0,c.jsx)("img",{alt:k,src:f||v}),bodyStyle:{padding:16},bordered:!1,hoverable:!0,children:(0,c.jsxs)(a.Row,{gutter:[16,16],children:[(0,c.jsx)(a.Col,{span:24,children:k?(0,c.jsx)(a.Typography.Title,{level:5,ellipsis:!0,children:k}):(0,c.jsx)(a.Skeleton,{paragraph:{rows:1},title:!1,round:!0,active:!0,loading:!0})}),(0,c.jsx)(a.Col,{span:24,children:(0,c.jsxs)(a.Space,{children:[(null===w||void 0===w?void 0:w.moonrank)&&(0,c.jsx)($,{name:"moonrank",rank:null===w||void 0===w?void 0:w.moonrank.rank}),(null===w||void 0===w?void 0:w.howrare)&&(0,c.jsx)($,{name:"howrare",rank:null===w||void 0===w?void 0:w.howrare.rank})]})}),(0,c.jsx)(a.Col,{span:24,children:(0,c.jsxs)(a.Row,{gutter:[8,8],align:"middle",wrap:!1,children:[(0,c.jsx)(a.Col,{flex:"auto",children:(0,c.jsxs)(a.Typography.Title,{level:5,children:[m," SOL"]})}),(0,c.jsx)(a.Col,{children:(0,c.jsx)(a.Button,{type:"primary",icon:(0,c.jsx)(l.Z,{name:"card-outline"}),onClick:C,loading:i,children:"Buy"})})]})})]})})},Z="listing",Y=(0,b.createAsyncThunk)("listing/nextListingNFTs",(async(e,t)=>{let{symbol:n,limit:s=12}=e,{getState:r}=t;const{listing:{[n]:i}}=r(),a=await R.nextListingNFTs(n,s),o={};for(const l of a)o[l.tokenMint]=l;return{[n]:{...i||{},...o}}})),H=(0,b.createSlice)({name:Z,initialState:{},reducers:{},extraReducers:e=>{e.addCase(Y.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)}))}}).reducer,G=()=>{const[e,t]=(0,o.useState)(!1),n=(0,s.useDispatch)(),{symbol:r}=(()=>{const{symbol:e}=(0,i.useParams)();return{symbol:e}})(),{collections:{[r]:u},listing:{[r]:p}}=(0,s.useSelector)((e=>e)),{to:h,back:y}=m(),{action:g}=(0,i.useHistory)(),x=(0,o.useCallback)((()=>"PUSH"!==g?h("/"):y()),[h,y,g]),b=(0,o.useCallback)((async()=>{try{t(!0),await n(Y({symbol:r}))}catch(e){return window.notify({type:"warning",description:e.message})}finally{return t(!1)}}),[n,r]);return(0,o.useEffect)((()=>{!u&&r&&n(E(r))}),[n,u,r]),(0,o.useEffect)((()=>{p||b()}),[b,p]),(0,c.jsxs)(a.Row,{gutter:[24,24],children:[(0,c.jsx)(a.Col,{span:24,children:(0,c.jsx)(a.Button,{icon:(0,c.jsx)(l.Z,{name:"arrow-back-outline"}),onClick:x,children:"Back"})}),(0,c.jsx)(a.Col,{span:24,children:(0,c.jsx)(a.Row,{gutter:[24,24],children:Object.values(p||{}).map(((e,t)=>{let{tokenMint:n}=e;return(0,c.jsx)(a.Col,{xs:12,sm:8,lg:6,xl:4,xxl:3,children:(0,c.jsx)(q,{symbol:r,mintAddress:n})},t)}))})}),(0,c.jsx)(a.Col,{span:24,children:(0,c.jsx)(a.Row,{gutter:[24,24],justify:"center",children:(0,c.jsx)(a.Col,{children:(0,c.jsx)(d,{onMore:b,loading:e})})})})]})},J=()=>{const{extend:e}=m();return(0,c.jsxs)(a.Row,{gutter:[24,24],children:[(0,c.jsx)(a.Col,{span:24,children:(0,c.jsxs)(i.Switch,{children:[(0,c.jsx)(i.Route,{exact:!0,path:e("/"),component:L}),(0,c.jsx)(i.Route,{exact:!0,path:e("/:symbol"),component:G})]})}),(0,c.jsx)(a.Col,{span:24})]})};var Q=n(48744),V=n.n(Q),X=n(97429).Buffer;BigInt.prototype.toJSON=function(){return this.toString()};const ee={serializableCheck:{isSerializable:e=>"undefined"===typeof e||null===e||"string"===typeof e||"boolean"===typeof e||"number"===typeof e||Array.isArray(e)||(e=>{if(null===e)return!1;const t=Object.getPrototypeOf(e);return null!==t&&null===Object.getPrototypeOf(t)})(e)||"bigint"===typeof e||e instanceof w.PublicKey||e instanceof V()||X.isBuffer(e)}},te=(0,b.configureStore)({middleware:e=>e(ee),devTools:!1,reducer:{collections:O,listing:H,metadata:F}});var ne=n(45597);const{manifest:{appId:se}}=y,re=()=>(0,c.jsx)(r.UIProvider,{appId:se,antd:{prefixCls:se},children:(0,c.jsx)(r.WalletProvider,{children:(0,c.jsx)(s.Provider,{store:te,children:(0,c.jsx)(J,{})})})})},83272:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/README.cd6958385873fd0100cf.md"},69363:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/logo.da175f6d5d1564b6bc58.png"},70854:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/panel.6ce7bc345912340df001.png"},55555:()=>{},46601:()=>{},89214:()=>{},85568:()=>{},52361:()=>{},94616:()=>{},55024:()=>{}}]);
//# sourceMappingURL=src_bootstrap_app_tsx.a5e5660c.chunk.js.map