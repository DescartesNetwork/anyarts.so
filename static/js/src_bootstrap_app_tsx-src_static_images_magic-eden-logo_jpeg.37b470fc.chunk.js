(globalThis.webpackChunkany_arts=globalThis.webpackChunkany_arts||[]).push([["src_bootstrap_app_tsx-src_static_images_magic-eden-logo_jpeg"],{45597:(e,t,s)=>{"use strict";Object.defineProperty(t,"X$",{value:!0}),Object.defineProperty(t,"jY",{enumerable:!0,get:function(){return l.default}}),t.h0=void 0,Object.defineProperty(t,"ng",{enumerable:!0,get:function(){return o.default}});var n=a(s(27803)),i=a(s(85468)),r=a(s(83943)),l=a(s(69363)),o=a(s(83272));function a(e){return e&&e.__esModule?e:{default:e}}const c=[n.default,i.default,r.default];t.h0=c},7963:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Page:()=>ze,__esModule:()=>Fe.X$,logo:()=>Fe.jY,panels:()=>Fe.h0,readme:()=>Fe.ng});var n=s(55754),i=s(61256),r=s(45055),l=s(94751),o=s(9122),a=s(92950),c=s(69716),d=s(45263);const u=e=>{let{onMore:t=(()=>{}),loading:s=!1,disabled:n=!1}=e;return(0,d.jsx)(l.Button,{type:"text",size:"large",onClick:t,loading:s,disabled:n,icon:(0,d.jsx)(c.Z,{name:"caret-down-outline"}),children:"More"})};const h=s.p+"static/media/nft-default.e7d7d405622ec80c0c232699de2b2c8e.svg";var p=s(19289),g=s(42224),x=s(21995),y=s.n(x);const m=class{constructor(){this._offset=void 0,this.key=e=>{if(!e)throw new Error("The key cannot be empty.");return e+"-offset"},this.set=(e,t)=>{const s=this.key(e);this._offset[s]=t},this.get=e=>{const t=this.key(e);return this._offset[t]||0},this._offset={}}};var j=s(97429).Buffer;class f extends m{constructor(e){var t;super(),t=this,this.api="https://api-mainnet.magiceden.dev/v2",this.stat="https://stats-mainnet.magiceden.io/collection_stats",this.connection=void 0,this.service="https://cors.sentre.io/magic-eden",this.getAPI=e=>{let{path:t,params:s,auth:n=!1}=e;if(s)for(const o in s)s[o]=s[o].toString();const i=this.api+t,r=s?`?${new URLSearchParams(s).toString()}`:"",l=encodeURIComponent(`${i}${r}`);return`${this.service}/forward/${l}?auth=${n}`},this.getStat=e=>{let{path:t,params:s}=e;if(s)for(const l in s)s[l]=s[l].toString();const n=this.stat+t,i=s?`?${new URLSearchParams(s).toString()}`:"",r=encodeURIComponent(`${n}${i}`);return`${this.service}/forward/${r}`},this.getCollection=async e=>{if(!e)throw new Error("Invalid symbol");const t=`${this.service}/collections/${e}`,{data:s}=await y().get(t);if(!s)throw new Error("Invalid symbol");return s},this.getCollections=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;const n=`${t.service}/collections?offset=${e}&limit=${s}`,{data:i}=await y().get(n);return i||[]},this.getPopularCollections=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1d",s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;const n=t.getStat({path:"/popular_collections/sol",params:{window:e,limit:s}}),{data:i}=await y().get(n);return i||[]},this.nextCollections=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;const s=t.get("collections"),n=await t.getCollections(s,e);return t.set("collections",s+n.length),n},this.searchCollections=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!e||e.length<=3)return;const s=0,n=5,i=`${t.service}/collections?search=${e}&offset=${s}&limit=${n}`,{data:r}=await y().get(i);return r||[]},this.getListingNFTs=async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;const i={offset:s,limit:n},r=t.getAPI({path:`/collections/${e}/listings`,params:i}),{data:l}=await y().get(r);return l||[]},this.nextListingNFTs=async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;const n=t.get(e),i=await t.getListingNFTs(e,n,s);return t.set(e,n+i.length),i},this.getNFTMetadata=async e=>{if(!i.util.isAddress(e))throw new Error("Invalid mint address");const t=this.getAPI({path:`/tokens/${e}`}),{data:s}=await y().get(t);if(!s)throw new Error("Invalid mint address");return s},this.buyNow=async e=>{let{buyerAddress:t,sellerAddress:s,auctionHouseAddress:n="",mintAddress:r,price:l,buyerReferralAddress:o=f.DEFAULT_REFERRAL,sellerReferralAddress:a=f.DEFAULT_REFERRAL,buyerExpiry:c=0,sellerExpiry:d=-1}=e;if(!i.util.isAddress(t))throw new Error("Invalid buyer address");if(!i.util.isAddress(s))throw new Error("Invalid seller address");if(!i.util.isAddress(r))throw new Error("Invalid mint address");const u={buyer:t,seller:s,auctionHouseAddress:n,tokenMint:r,tokenATA:await i.util.deriveAssociatedAddress(s,r),price:l,buyerReferral:o,sellerReferral:a,buyerExpiry:c,sellerExpiry:d},h=this.getAPI({path:"/instructions/buy_now",params:u,auth:!0}),{data:p}=await y().get(h);return g.Transaction.from(j.from(p.txSigned))},this.sendAndConfirm=async e=>{let t=[];for(const s of e){const e=await this.connection.sendRawTransaction(s.serialize(),{skipPreflight:!0,preflightCommitment:"confirmed"});await this.connection.confirmTransaction(e),t.push(e)}return t},this.connection=new g.Connection(e)}}f.DEFAULT_REFERRAL="autMW8SgBkVYeBgqYiTuJZnkvDZMVU2MHJh9Jh7CSQ2";const w="collections",b=new f(i.rpc),C=(0,p.createAsyncThunk)(`${w}/nextCollections`,(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;const t=await b.nextCollections(e),s={};for(const n of t)s[n.symbol]=n;return s})),v=(0,p.createAsyncThunk)(`${w}/getCollection`,(async e=>({[e]:await b.getCollection(e)}))),S=(0,p.createSlice)({name:w,initialState:{},reducers:{},extraReducers:e=>{e.addCase(C.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)})).addCase(v.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)}))}}).reducer,k={categories:[],description:"",discord:"",image:h,name:"",symbol:"",twitter:"",website:""},A=e=>{let{symbol:t,force:s=!1}=e;const i=(0,n.useDispatch)(),r=(0,n.useSelector)((e=>e.collections)),{[t]:l}=r;return(0,a.useEffect)((()=>{!l&&t&&s&&i(v(t))}),[i,l,t,s]),l?{loading:!1,collection:l}:{loading:!0,collection:k}},T=e=>{let{symbol:t}=e;const{collection:{website:s,twitter:n,discord:i}}=A({symbol:t}),r=(e,t)=>(e.stopPropagation(),window.open(t,"_blank"));return(0,d.jsxs)(l.Space,{size:0,children:[(0,d.jsx)(l.Button,{type:"text",icon:(0,d.jsx)(c.Z,{name:"earth-outline"}),onClick:e=>r(e,s),disabled:!s}),(0,d.jsx)(l.Button,{type:"text",icon:(0,d.jsx)(c.Z,{name:"logo-twitter"}),onClick:e=>r(e,n),disabled:!n}),(0,d.jsx)(l.Button,{type:"text",icon:(0,d.jsx)(c.Z,{name:"logo-discord"}),onClick:e=>r(e,i),disabled:!i})]})},R=s.p+"static/media/magic-eden-logo.dc84d1f6359782b8773e.jpeg",E=e=>{let{symbol:t,closable:s=!1,onClose:n=(()=>{})}=e;const{loading:r,collection:{name:o,description:u,image:h}}=A({symbol:t,force:!0}),{to:p}=(0,i.useAppRoute)(),g=(0,a.useCallback)((()=>p(`/${t}`)),[p,t]),x=(0,a.useCallback)((e=>(e.stopPropagation(),window.open(`https://magiceden.io/marketplace/${t}`,"_blank"))),[t]),y=(0,a.useCallback)((e=>(e.stopPropagation(),n(t))),[t,n]);return(0,d.jsx)(l.Card,{cover:(0,d.jsxs)("div",{children:[(0,d.jsx)("img",{width:"100%",height:"100%",alt:t,src:h}),s&&(0,d.jsx)(l.Button,{shape:"circle",className:"close-button",icon:(0,d.jsx)(c.Z,{name:"close"}),onClick:y})]}),bodyStyle:{padding:16},bordered:!1,onClick:g,loading:r,hoverable:!0,children:(0,d.jsxs)(l.Row,{gutter:[16,16],children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Typography.Title,{level:5,ellipsis:!0,children:o})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Typography.Paragraph,{ellipsis:{rows:2},children:u})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Row,{gutter:[8,8],align:"middle",wrap:!1,children:[(0,d.jsx)(l.Col,{flex:"auto",children:(0,d.jsx)("span",{onClick:x,children:(0,d.jsx)(l.Avatar,{src:R,size:24})})}),(0,d.jsx)(l.Col,{children:(0,d.jsx)(T,{symbol:t})})]})})]})})},P="category",_=(0,p.createAsyncThunk)("category/pushRecent",(async(e,t)=>{let{getState:s}=t;const{category:{recent:n}}=s(),i=[...n];for(const r of e)i.includes(r)||i.push(r);return{recent:i}})),M={window:"1d",limit:12},I=(0,p.createAsyncThunk)("category/loadHot",(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,{getState:t}=arguments.length>1?arguments[1]:void 0;const{window:s,limit:n}={...M,...e},{category:{hot:i}}=t(),r=await b.getPopularCollections(s,n),l=r.map((e=>{let{collectionSymbol:t}=e;return t})),o=[...i];for(const a of l)o.includes(a)||o.push(a);return{hot:o}})),$=(0,p.createAsyncThunk)("category/setViewed",(async e=>({viewed:e}))),D=(0,p.createSlice)({name:P,initialState:{recent:[],hot:[],viewed:[]},reducers:{},extraReducers:e=>{e.addCase(_.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)})).addCase(I.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)})).addCase($.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)}))}}).reducer,N=()=>{const[e,t]=(0,a.useState)(!1),s=(0,n.useSelector)((e=>e.category.recent)),i=(0,n.useDispatch)(),r=(0,a.useCallback)((async()=>{t(!0);try{const e=await i(C()).unwrap();await i(_(Object.keys(e)))}catch(e){return window.notify({type:"warning",description:e.message})}finally{return t(!1)}}),[i]);return(0,a.useEffect)((()=>{s.length||r()}),[s,r]),(0,d.jsxs)(l.Row,{gutter:[24,24],children:[s.map(((e,t)=>(0,d.jsx)(l.Col,{xs:12,sm:8,lg:6,children:(0,d.jsx)(E,{symbol:e})},t))),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Row,{gutter:[24,24],justify:"center",children:(0,d.jsx)(l.Col,{children:(0,d.jsx)(u,{onMore:r,loading:e})})})})]})},F=()=>{const[e,t]=(0,a.useState)(!1),s=(0,n.useDispatch)(),i=(0,n.useSelector)((e=>e.category.hot)),r=(0,a.useCallback)((async()=>{t(!0);try{await s(I())}catch(e){return window.notify({type:"warning",description:e.message})}finally{return t(!1)}}),[s]);return(0,a.useEffect)((()=>{r()}),[r]),(0,d.jsx)(l.Spin,{spinning:e,children:(0,d.jsx)(l.Row,{gutter:[24,24],children:i.map((e=>(0,d.jsx)(l.Col,{xs:12,sm:8,lg:6,children:(0,d.jsx)(E,{symbol:e})},e)))})})};const B={appId:"any_arts",url:"https://descartesnetwork.github.io/anyarts.so/index.js"},z=["degods","okay_bears","degentown","primates","shadowy_super_coder_dao","trippin_ape_tribe","justape","yeah_tigers","solana_monkey_business","blocksmith_labs","bubblegoose_ballers","aurory","degenerate_ape_academy","communi3","solpunks","stepn"],O={development:{limit:12,hotList:z},production:{limit:12,hotList:z}},U={devnet:{whitelist:{}},testnet:{whitelist:{}},mainnet:{whitelist:{usdc:{address:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",symbol:"USDC",decimals:6,url:"https://www.circle.com/en/usdc"},uxd:{address:"7kbnvuGBxxj8AG9qp8Scn56muWGaRaFqxg1FsRp3PaFT",symbol:"UXD",decimals:6,url:"https://uxd.fi/"},usdt:{address:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",symbol:"USDT",decimals:6,url:"https://tether.to/"},usdh:{address:"USDH1SM1ojwWUga67PGrgFWUHibbjqMvuMaDkRJTgkX",symbol:"USDH",decimals:6,url:"https://hubbleprotocol.io/"}}}},L={manifest:{development:{...B},production:{...B}}[i.env],pagination:O[i.env],payment:U[i.net]},{manifest:{appId:W},pagination:{limit:Z}}=L,q=()=>{const e=(0,n.useSelector)((e=>e.category.viewed)),t=(0,n.useDispatch)(),[s,r]=(0,a.useState)(Z),o=(0,i.useWalletAddress)(),c=(0,a.useMemo)((()=>(0,i.createPDB)(o,W)),[o]),h=(0,a.useMemo)((()=>e.slice(0,s)),[e,s]),p=(0,a.useMemo)((()=>!e||!e.length),[e]),g=(0,a.useMemo)((()=>h.length===e.length),[h,e]),x=(0,a.useCallback)((async e=>{const s=(await c.getItem("history")).filter((t=>t!==e));return await c.setItem("history",s),t($(s))}),[t,c]),y=(0,a.useCallback)((async()=>r(Math.min(e.length,s+Z))),[e,s]);return(0,a.useEffect)((()=>{(async()=>{const e=await c.getItem("history")||[];t($(e))})()}),[t,c]),(0,d.jsxs)(l.Row,{gutter:[24,24],children:[p?(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Row,{gutter:[24,24],justify:"center",children:(0,d.jsx)(l.Col,{children:(0,d.jsx)(l.Empty,{description:"No history found"})})})}):h.map(((e,t)=>(0,d.jsx)(l.Col,{xs:12,sm:8,lg:6,children:(0,d.jsx)(E,{symbol:e,onClose:x,closable:!0})},t))),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Row,{gutter:[24,24],justify:"center",children:(0,d.jsx)(l.Col,{children:(0,d.jsx)(u,{onMore:y,disabled:g})})})})]})};let H;const Y=e=>{let{loading:t,collections:s}=e;const{to:n}=(0,i.useAppRoute)(),r=(0,a.useCallback)((e=>{if(e)return n(`/${e}`)}),[n]);return t||!s?(0,d.jsx)(l.Row,{gutter:[24,24],justify:"center",children:(0,d.jsx)(l.Col,{children:t?(0,d.jsx)(l.Spin,{style:{margin:16}}):(0,d.jsx)(l.Empty,{image:l.Empty.PRESENTED_IMAGE_SIMPLE})})}):(0,d.jsx)(l.Row,{gutter:[24,24],children:s.map((e=>(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Row,{gutter:[24,24],align:"middle",wrap:!1,style:{cursor:"pointer"},onClick:()=>r(e.symbol),children:[(0,d.jsx)(l.Col,{children:(0,d.jsx)(l.Avatar,{shape:"square",size:56,src:e.image})}),(0,d.jsx)(l.Col,{flex:"auto",children:(0,d.jsxs)(l.Row,{gutter:[4,4],children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Typography.Title,{level:5,children:e.name})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Typography.Paragraph,{style:{margin:0},type:"secondary",ellipsis:!0,children:e.description})})]})})]})},e.symbol)))})},G=()=>{const[e,t]=(0,a.useState)(!1),[s,n]=(0,a.useState)(""),[i,r]=(0,a.useState)();return(0,a.useEffect)((()=>{t(!0),H&&clearTimeout(H),H=setTimeout((async()=>{try{if(!s||s.length<=3)return r(void 0);const e=await b.searchCollections(s);return r(e)}catch(e){return r(void 0)}finally{return t(!1)}}),1e3)}),[s]),(0,d.jsx)(l.Popover,{placement:"bottom",overlayStyle:{width:300},trigger:"focus",content:(0,d.jsx)(Y,{loading:e,collections:i}),children:(0,d.jsx)(l.Input,{size:"large",suffix:(0,d.jsx)(c.Z,{name:"search-outline"}),value:s,onChange:e=>n(e.target.value||""),placeholder:"Search by Symbols"})})};const J=s.p+"static/media/sol-logo.ebe4f9050babf4d7710f96abae751657.svg",V=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return 1===e?"#FEE101":2===e?"#D7D7D7":3===e?"#A77044":"#0074FD"},X=e=>{let{symbol:t}=e;const{image:s,name:r,rank:o,totalVol:u}=(0,n.useSelector)((e=>e.popularCollections[t]))||{},{to:h}=(0,i.useAppRoute)(),p=(0,a.useCallback)((()=>h(`/${t}`)),[h,t]);return(0,d.jsx)(l.Card,{bodyStyle:{padding:16},onClick:p,hoverable:!0,children:(0,d.jsxs)(l.Row,{gutter:[16,16],wrap:!1,align:"middle",children:[(0,d.jsx)(l.Col,{children:(0,d.jsx)(l.Avatar,{src:s,size:64,shape:"square"})}),(0,d.jsx)(l.Col,{flex:"auto",children:(0,d.jsxs)(l.Row,{gutter:[8,8],children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Row,{gutter:[8,8],wrap:!1,align:"middle",children:[(0,d.jsx)(l.Col,{children:(0,d.jsxs)(l.Space,{children:[(0,d.jsxs)(l.Typography.Title,{level:4,children:["#",o]}),(0,d.jsx)(c.Z,{name:"ribbon",style:{fontSize:18,color:V(o)}})]})}),(0,d.jsx)(l.Col,{flex:"auto",children:(0,d.jsx)(l.Typography.Title,{level:5,ellipsis:!0,children:r})})]})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Space,{children:[(0,d.jsx)(l.Typography.Text,{type:"secondary",children:"Volume:"}),(0,d.jsx)(l.Typography.Text,{children:i.util.numeric(u).format("0,0.[00]")}),(0,d.jsx)(l.Avatar,{shape:"square",src:J,size:18,style:{padding:3}})]})})]})})]})})},K="popularCollection",Q={window:"30d",limit:6},ee=(0,p.createAsyncThunk)("popularCollection/getPopularCollections",(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q;const{window:t,limit:s}={...Q,...e},n=await b.getPopularCollections(t,s),i={};for(const r of n)i[r.collectionSymbol]=r;return i})),te=(0,p.createSlice)({name:K,initialState:{},reducers:{},extraReducers:e=>{e.addCase(ee.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)}))}}).reducer,se=()=>{const e=(0,n.useSelector)((e=>e.popularCollections)),t=(0,n.useDispatch)();return(0,a.useEffect)((()=>{t(ee())}),[t]),(0,d.jsxs)(l.Row,{gutter:[24,24],children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Row,{gutter:[24,24],justify:"center",children:(0,d.jsx)(l.Col,{children:(0,d.jsx)(l.Typography.Title,{level:3,children:"\ud83d\udc51 Collections of the Month"})})})}),Object.keys(e).map((e=>(0,d.jsx)(l.Col,{xs:24,sm:12,lg:8,children:(0,d.jsx)(X,{symbol:e})},e)))]})},ne=["recent","hot","viewed"],ie=e=>{let{type:t="recent"}=e;return"recent"===t?(0,d.jsx)(N,{}):"hot"===t?(0,d.jsx)(F,{}):"viewed"===t?(0,d.jsx)(q,{}):(0,d.jsx)(N,{})},re=()=>{const{to:e}=(0,i.useAppRoute)(),{search:t}=(0,r.useLocation)(),s=(0,a.useMemo)((()=>{const e=new URLSearchParams(t).get("tab");return ne.includes(e)?e:"recent"}),[t]),n=(0,a.useCallback)((t=>e(`?tab=${t}`)),[e]);return(0,d.jsxs)(l.Row,{gutter:[24,24],children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(se,{})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Row,{gutter:[16,16],children:[(0,d.jsx)(l.Col,{flex:"auto",children:(0,d.jsx)(l.Segmented,{size:"large",options:[{label:"\ud83d\udc8e Newest",value:"recent"},{label:"\ud83d\udd25 Hot (24h)",value:"hot"},{label:"\ud83d\udc40 Viewed",value:"viewed"}],value:s,onChange:e=>n(e)})}),(0,d.jsx)(l.Col,{children:(0,d.jsx)(G,{})})]})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(ie,{type:s})})]})},le={moonrank:"https://moonrank.app/static/favicon.ico",howrare:"https://howrare.com/img/logo.png"},oe=e=>{let{name:t,rank:s}=e;const{ui:{width:n}}=(0,i.useUI)(),r=(0,a.useMemo)((()=>n<768),[n]);return(0,d.jsx)(l.Tooltip,{title:t,children:(0,d.jsx)(l.Card,{bodyStyle:{padding:r?4:8,cursor:"pointer"},style:{minWidth:60,maxWidth:96},children:(0,d.jsxs)(l.Space,{children:[(0,d.jsx)(l.Avatar,{shape:"circle",size:r?16:24,src:le[t]}),(0,d.jsx)(l.Space,{children:(0,d.jsx)(l.Typography.Text,{children:s})})]})})})};var ae=s(65447);const ce=()=>(0,d.jsxs)(l.Row,{gutter:[16,16],align:"middle",children:[(0,d.jsx)(l.Col,{children:(0,d.jsx)(l.Avatar,{src:R})}),(0,d.jsx)(l.Col,{flex:"auto",children:(0,d.jsxs)(l.Space,{size:0,direction:"vertical",children:[(0,d.jsx)(l.Typography.Text,{children:"You are watching NFT on"}),(0,d.jsx)(l.Typography.Text,{type:"secondary",className:"caption",children:"magiceden.io"})]})})]}),de=e=>{let{src:t=h,size:s}=e;return(0,d.jsx)(l.Avatar,{shape:"square",src:t,size:s})},ue="metadata",he=(0,p.createAsyncThunk)("metadata/getNFTMetadata",(async(e,t)=>{let{mintAddress:s,force:n=!1}=e,{getState:i}=t;const{metadata:{[s]:r}}=i();if(r&&!n)return{[s]:r};return{[s]:await b.getNFTMetadata(s)}})),pe=(0,p.createSlice)({name:ue,initialState:{},reducers:{},extraReducers:e=>{e.addCase(he.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)}))}}).reducer,ge=e=>{let{mintAddress:t,force:s=!1}=e;const r=(0,n.useDispatch)(),{metadata:{[t]:l}}=(0,n.useSelector)((e=>e));return(0,a.useEffect)((()=>{!l&&s&&i.util.isAddress(t)&&r(he({mintAddress:t}))}),[r,s,l,t]),l||{}},xe=e=>{let{symbol:t,mintAddress:s}=e;const{listing:{[t]:{[s]:{price:i,extra:{img:r}}}}}=(0,n.useSelector)((e=>e)),{loading:o,collection:{name:a}}=A({symbol:t,force:!0}),{name:c,image:u}=ge({mintAddress:s});return(0,d.jsx)(l.Spin,{spinning:o,children:(0,d.jsxs)(l.Row,{gutter:[16,16],wrap:!1,children:[(0,d.jsx)(l.Col,{children:(0,d.jsx)(de,{src:r||u,size:87})}),(0,d.jsx)(l.Col,{flex:"auto",children:(0,d.jsxs)(l.Row,{gutter:[4,4],children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Row,{gutter:[4,4],align:"middle",wrap:!1,children:[(0,d.jsx)(l.Col,{flex:"auto",children:(0,d.jsx)(l.Typography.Text,{className:"caption",type:"secondary",children:a})}),(0,d.jsx)(l.Col,{children:(0,d.jsx)(T,{symbol:t})})]})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Space,{direction:"vertical",size:0,children:[(0,d.jsx)(l.Typography.Title,{level:5,children:c}),(0,d.jsxs)(l.Space,{size:4,children:[(0,d.jsx)(l.Avatar,{shape:"square",src:J,size:24,style:{padding:3}}),(0,d.jsx)(l.Typography.Title,{level:3,children:i})]})]})})]})})]})})},{payment:{whitelist:ye}}=L,me=e=>{let{value:t="sol",onChange:s=(()=>{})}=e;return(0,d.jsxs)(l.Row,{gutter:[16,16],children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Typography.Text,{children:"Payment by"})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Row,{gutter:[8,8],children:["sol",...Object.keys(ye)].map((e=>(0,d.jsx)(l.Col,{children:(0,d.jsx)(l.Button,{onClick:()=>s(e),className:e===t?"token-selected":void 0,children:e.toUpperCase()})},e)))})})]})};var je=s(95418);const fe=(e,t,s)=>i.util.isAddress(e)&&void 0!==t&&void 0!==s?{mintAddress:e,amount:t,decimals:s,balance:Number(je.utils.undecimalize(t,s))}:{amount:BigInt(0),decimals:0,balance:0},we=e=>{const t=(0,i.useWalletAddress)(),s=(0,i.useWalletBalance)(),n=(0,i.useAccounts)(),{amount:r,mint:l}=n[e]||{},o=(0,i.useMintDecimals)({mintAddress:l})||0;return i.util.isAddress(t)&&i.util.isAddress(e)?e===t?fe(je.DEFAULT_EMPTY_ADDRESS,s,9):fe(l,r,o):fe()},be=(e,t)=>{const s=(0,i.useWalletAddress)(),[n,r]=(0,a.useState)(0),[l,o]=(0,a.useState)(""),{balance:c}=we(l),d=(0,a.useMemo)((()=>!(c<n)),[c,n]),u=(0,a.useCallback)((async()=>{if("sol"===t)return o(s),r(e);const{splt:n}=window.sentre,{estimatePrice:i,tokenInfo:l}=await(async e=>{let{tokenSymbol:t,nftPrice:s}=e;const n=s,{data:i}=await(await fetch(`https://price.jup.ag/v1/price?id=SOL&vsToken=${t}`)).json();return{estimatePrice:n*i.price,solPrice:n,tokenInfo:i}})({tokenSymbol:t,nftPrice:e}),a=await n.deriveAssociatedAddress(s,null===l||void 0===l?void 0:l.vsToken);return o(a),r(i)}),[e,t,s]);return(0,a.useEffect)((()=>{u()}),[u]),{estPrice:n,validBuy:d}},Ce=new ae.OTC,ve=e=>{let{symbol:t,mintAddress:s}=e;const[r,o]=(0,a.useState)(!1),[u,h]=(0,a.useState)(!1),[p,g]=(0,a.useState)("sol"),{listing:{[t]:{[s]:{seller:x,price:y,tokenMint:m,auctionHouse:j}}}}=(0,n.useSelector)((e=>e)),f=(0,i.useWalletAddress)(),{ui:{width:w}}=(0,i.useUI)(),C=(0,a.useMemo)((()=>w<768),[w]),v=(0,a.useMemo)((()=>p.toUpperCase()),[p]),S=y+1e-5+.004050720000000001,{estPrice:k,validBuy:A}=be(S,p),T=(0,a.useCallback)((async()=>{try{o(!0);const{wallet:e}=window.sentre;let t=[];if("sol"!==p){const e=await Ce.exchange({walletAddress:f,tokenSymbol:p,solAmount:S});t.push(e)}const s=await b.buyNow({buyerAddress:f,sellerAddress:x,auctionHouseAddress:j,mintAddress:m,price:y});t.push(s);const n=await e.signAllTransactions(t),r=await b.sendAndConfirm(n);return h(!1),window.notify({type:"success",description:"Successfully buy the NFT. Click to view details.",onClick:()=>window.open(i.util.explorer(r[1]),"_blank")})}catch(t){var e;return window.notify({type:"error",description:(null===(e=t.response)||void 0===e?void 0:e.data)||t.message})}finally{return o(!1)}}),[S,p,f,x,j,m,y]);return(0,d.jsxs)(a.Fragment,{children:[(0,d.jsx)(l.Button,{onClick:()=>h(!0),type:"primary",icon:C?void 0:(0,d.jsx)(c.Z,{name:"card-outline"}),children:"Buy"}),(0,d.jsx)(l.Modal,{className:"modal-nft-plugin",visible:u,footer:!1,onCancel:()=>h(!1),width:368,closeIcon:(0,d.jsx)(c.Z,{name:"close-outline"}),bodyStyle:{padding:16},children:(0,d.jsxs)(l.Row,{gutter:[16,16],children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(ce,{})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(xe,{symbol:t,mintAddress:s})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(me,{value:p,onChange:g})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Alert,{message:`Estimated payment is ${i.util.numeric(k).format("0,0.[0000]")} ${v}.`,type:"info",showIcon:!0})}),!A&&(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Alert,{message:`Not enough ${v} in your balance. Please add more ${v}, or select another token!`,type:"warning",showIcon:!0})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Button,{type:"primary",onClick:T,loading:r,block:!0,disabled:!A,children:"Buy Now"})})]})})]})},Se=e=>{let{symbol:t,mintAddress:s}=e;const{listing:{[t]:{[s]:{price:i,rarity:r,extra:{img:o}}}}}=(0,n.useSelector)((e=>e)),{name:a,image:c}=ge({mintAddress:s,force:!0});return(0,d.jsx)(l.Card,{cover:(0,d.jsx)("img",{alt:a,src:o||c}),bodyStyle:{padding:16},bordered:!1,hoverable:!0,children:(0,d.jsxs)(l.Row,{gutter:[16,16],children:[(0,d.jsx)(l.Col,{span:24,children:a?(0,d.jsx)(l.Typography.Title,{level:5,ellipsis:!0,children:a}):(0,d.jsx)(l.Skeleton,{paragraph:{rows:1},title:!1,round:!0,active:!0,loading:!0})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Space,{children:[(null===r||void 0===r?void 0:r.moonrank)&&(0,d.jsx)(oe,{name:"moonrank",rank:null===r||void 0===r?void 0:r.moonrank.rank}),(null===r||void 0===r?void 0:r.howrare)&&(0,d.jsx)(oe,{name:"howrare",rank:null===r||void 0===r?void 0:r.howrare.rank})]})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(l.Row,{gutter:[8,8],align:"middle",wrap:!1,children:[(0,d.jsx)(l.Col,{flex:"auto",children:(0,d.jsxs)(l.Space,{size:4,children:[(0,d.jsx)(l.Avatar,{shape:"square",src:J,size:24,style:{padding:3}}),(0,d.jsx)(l.Typography.Title,{level:5,children:i})]})}),(0,d.jsx)(l.Col,{children:(0,d.jsx)(ve,{symbol:t,mintAddress:s})})]})})]})})},ke="listing",Ae=(0,p.createAsyncThunk)("listing/nextListingNFTs",(async(e,t)=>{let{symbol:s,limit:n=12}=e,{getState:i}=t;const{listing:{[s]:r}}=i(),l=await b.nextListingNFTs(s,n),o={};for(const a of l)o[a.tokenMint]=a;return{[s]:{...r||{},...o}}})),Te=(0,p.createSlice)({name:ke,initialState:{},reducers:{},extraReducers:e=>{e.addCase(Ae.fulfilled,((e,t)=>{let{payload:s}=t;Object.assign(e,s)}))}}).reducer,{manifest:{appId:Re}}=L,Ee=()=>{const[e,t]=(0,a.useState)(!1),s=(0,n.useDispatch)(),{symbol:o}=(0,r.useParams)(),{[o]:h}=(0,n.useSelector)((e=>e.listing)),{back:p}=(0,i.useAppRoute)(),g=(0,i.useWalletAddress)(),x=(0,a.useMemo)((()=>(0,i.createPDB)(g,Re)),[g]),y=(0,a.useMemo)((()=>!h||!Object.keys(h).length),[h]),m=(0,a.useCallback)((async()=>{try{t(!0),await s(Ae({symbol:o}))}catch(e){return window.notify({type:"warning",description:e.message})}finally{return t(!1)}}),[s,o]);return(0,a.useEffect)((()=>{(async()=>{if(!o)return;const e=await x.getItem("history")||[],t=e.findIndex((e=>e===o));t>=0&&e.splice(t,1),e.unshift(o),await x.setItem("history",e),await s($(e))})()}),[s,o,x]),(0,a.useEffect)((()=>{h||m()}),[m,h]),(0,d.jsxs)(l.Row,{gutter:[24,24],children:[(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Button,{size:"large",icon:(0,d.jsx)(c.Z,{name:"arrow-back-outline"}),onClick:()=>p("/"),children:"Back"})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Row,{gutter:[24,24],children:y?(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Row,{gutter:[24,24],justify:"center",children:(0,d.jsx)(l.Col,{children:(0,d.jsx)(l.Empty,{description:"No listing NFT"})})})}):Object.values(h||{}).map(((e,t)=>{let{tokenMint:s}=e;return(0,d.jsx)(l.Col,{xs:12,sm:8,lg:6,children:(0,d.jsx)(Se,{symbol:o,mintAddress:s})},t)}))})}),(0,d.jsx)(l.Col,{span:24,children:(0,d.jsx)(l.Row,{gutter:[24,24],justify:"center",children:(0,d.jsx)(l.Col,{children:(0,d.jsx)(u,{onMore:m,loading:e})})})})]})},{payment:{whitelist:Pe}}=L,_e=()=>{const{extend:e}=(0,i.useAppRoute)();return(0,d.jsxs)(l.Row,{gutter:[24,24],justify:"center",children:[(0,d.jsx)(l.Col,{span:24,style:{maxWidth:1200},children:(0,d.jsxs)(l.Row,{gutter:[24,24],justify:"center",children:[(0,d.jsx)(l.Col,{style:{marginTop:64,marginBottom:64},children:(0,d.jsxs)(l.Typography.Text,{style:{fontSize:64,fontWeight:900},children:["Buy NFTs by"," ",(0,d.jsx)(o.Z,{children:Object.values(Pe).map((e=>{let{address:t,url:s,symbol:n}=e;return(0,d.jsx)("a",{href:s,target:"_blank",rel:"noreferrer",className:"gradient-text",children:n},t)}))}),"."]})}),"mainnet"===i.net?(0,d.jsx)(l.Col,{span:24,children:(0,d.jsxs)(r.Switch,{children:[(0,d.jsx)(r.Route,{exact:!0,path:e("/"),component:re}),(0,d.jsx)(r.Route,{exact:!0,path:e("/:symbol"),component:Ee})]})}):(0,d.jsx)(l.Col,{span:24,style:{textAlign:"center"},children:(0,d.jsxs)(l.Space,{direction:"vertical",children:[(0,d.jsx)(l.Typography.Title,{level:2,children:"\u26a0\ufe0f Only supported on Solana mainnet."}),(0,d.jsx)(l.Typography.Text,{children:"You can open the Control Center, switch to mainnet, and experience the application."})]})})]})}),(0,d.jsx)(l.Col,{span:24})]})};var Me=s(48744),Ie=s.n(Me),$e=s(97429).Buffer;BigInt.prototype.toJSON=function(){return this.toString()};const De={serializableCheck:{isSerializable:e=>"undefined"===typeof e||null===e||"string"===typeof e||"boolean"===typeof e||"number"===typeof e||Array.isArray(e)||(e=>{if(null===e)return!1;const t=Object.getPrototypeOf(e);return null!==t&&null===Object.getPrototypeOf(t)})(e)||"bigint"===typeof e||e instanceof g.PublicKey||e instanceof Ie()||$e.isBuffer(e)}},Ne=(0,p.configureStore)({middleware:e=>e(De),devTools:!1,reducer:{collections:S,popularCollections:te,category:D,listing:Te,metadata:pe}});var Fe=s(45597);const{manifest:{appId:Be}}=L,ze=()=>(0,d.jsx)(i.UIProvider,{appId:Be,antd:{prefixCls:Be},children:(0,d.jsx)(n.Provider,{store:Ne,children:(0,d.jsx)(_e,{})})})},83272:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/README.cd6958385873fd0100cf.md"},69363:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/logo.a4611ad00bff275b0581.png"},27803:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/panel1.aad2abab184f5971a1c7.png"},85468:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/panel2.e8f24e9a0428ae1a5ebc.png"},83943:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/panel3.84826e08746e9aa74c82.png"},46601:()=>{},89214:()=>{},85568:()=>{},52361:()=>{},94616:()=>{},55024:()=>{}}]);
//# sourceMappingURL=src_bootstrap_app_tsx-src_static_images_magic-eden-logo_jpeg.37b470fc.chunk.js.map